!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t);var n=window.wp.domReady,o=e.n(n),r=window.wp.data,a=window.wp.blocks,s=window.wp.hooks,c=window.wp.url;o()((()=>{const{getLayouts:e,getCategories:t}=(0,r.select)("coblocks/template-selector"),{updateLayouts:n,updateCategories:o}=(0,r.dispatch)("coblocks/template-selector");window.fetch((0,c.addQueryArgs)(nextgenNuxPatterns.nuxApiEndpoint+"/layouts",{lang:nextgenNuxPatterns.currentLocale})).then((e=>e.json())).then((r=>{const a=t(),s=r.map((e=>{const t=e.categories[0];return a.find((e=>e.slug===t.toLowerCase()))||a.push({slug:t.toLowerCase(),title:t}),{category:t.toLowerCase(),label:e.title,postContent:e.content}}));n([...e(),...s]),o(a)})).catch((e=>console.log(e)))}));const u=(e,t,n=[])=>(0,a.createBlock)(e,t,n&&n.map((([e,t,n])=>u(e,t,n)))),i=(e,t,n=[])=>[e,t,n&&n.map((e=>i(e.name,e.attributes,e.innerBlocks)))];(0,s.addFilter)("coblocks.layoutPreviewBlocks","nextgen/nux-api/layoutsPreviewBlocks",(e=>{const t=(0,r.select)("nextgen/layout-selector").getSelectedCategory(),n=e=>Object.fromEntries((Array.isArray(e)?e:Object.entries(e)).map((([e,o])=>Array.isArray(o)?[e,o.map(n)]:"string"==typeof o&&o.includes(nextgenNuxPatterns.nuxApiEndpoint+"/image")?[e,(0,c.addQueryArgs)(o,{size:"large",category:t||nextgenNuxPatterns.wpnuxTemplate,lang:nextgenNuxPatterns.currentLocale})]:[e,o])));return e.map((e=>i(e.name,e.attributes,e.innerBlocks))).map((([e,t,o])=>[e,n(t),o.map((([e,t,o])=>[e,n(t),o]))])).map((e=>u(...e)))})),(window.nextgen=window.nextgen||{}).nuxPatterns=t}();