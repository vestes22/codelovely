"use strict";!function(){jQuery(function(c){var i=function(s){var t,o;return 0===c("p.applying-costs-result .progress").length&&c("p.applying-costs-result").append(' <span class="progress"></span>'),t='<span class="error"   style="color: #DC3232;">&#10005;</span> '+wc_cog_admin_settings.i18n.apply_costs_error,o='<span class="success" style="color: #008000;">&#10004;</span> '+wc_cog_admin_settings.i18n.apply_costs_success,s={action:"wc_cog_get_applying_costs_status",security:wc_cog_admin_settings.get_applying_cost_of_goods_status_nonce,job_id:s},c.post(ajaxurl,s).done(function(s){if(s.success){if("completed"!==s.data.status)return c("p.applying-costs-result .progress").html(s.data.progress+" / "+s.data.total),setTimeout(i(s.data.id),1e5);c("p.applying-costs-result").html(o)}else c("p.applying-costs-result").html(t),console.log(s.data);return c("span.applying-costs-progress").removeClass("is-active"),c("#wc_cog_apply_costs_to_previous_orders").prop("disabled",!1)}).fail(function(){return c("p.applying-costs-result").html(t),c("span.applying-costs-progress").removeClass("is-active"),c("#wc_cog_apply_costs_to_previous_orders").prop("disabled",!1)})};return wc_cog_admin_settings.existing_background_job_id&&i(wc_cog_admin_settings.existing_background_job_id),c("button#wc_cog_apply_costs_to_previous_orders").on("click",function(s){var t,o,e,a=this;return s.preventDefault(),!!confirm(wc_cog_admin_settings.i18n.apply_costs_confirm_message_all)&&(s=c(this).closest("fieldset"),t=s.find("span.applying-costs-progress"),o=s.find("> p"),c(this).prop("disabled",!0),t.addClass("is-active"),o.addClass("applying-costs-result").html(wc_cog_admin_settings.i18n.apply_costs_in_progress+"<br/>"+wc_cog_admin_settings.i18n.apply_costs_notice),e='<span class="error" style="color: #DC3232;">&#10005;</span> '+wc_cog_admin_settings.i18n.apply_costs_error,s={action:"wc_cog_apply_costs_to_previous_orders",security:wc_cog_admin_settings.apply_cost_of_goods_nonce},c.post(ajaxurl,s).done(function(s){return s.success?null!=s.data.id?setTimeout(i(s.data.id),1e5):void 0:(o.html(e),t.removeClass("is-active"),c(a).prop("disabled",!1))}).fail(function(){return c(a).prop("disabled",!1),t.removeClass("is-active"),o.html(e)}))})})}.call(void 0);
//# sourceMappingURL=wc-cog-admin-settings.min.js.map
